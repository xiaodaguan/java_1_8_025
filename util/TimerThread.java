/*     */ package java.util;
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ class TimerThread
/*     */   extends Thread
/*     */ {
/* 489 */   boolean newTasksMayBeScheduled = true;
/*     */   
/*     */ 
/*     */ 
/*     */   private TaskQueue queue;
/*     */   
/*     */ 
/*     */ 
/*     */ 
/*     */   TimerThread(TaskQueue paramTaskQueue)
/*     */   {
/* 500 */     this.queue = paramTaskQueue;
/*     */   }
/*     */   
/*     */   /* Error */
/*     */   public void run()
/*     */   {
/*     */     // Byte code:
/*     */     //   0: aload_0
/*     */     //   1: invokespecial 4	java/util/TimerThread:mainLoop	()V
/*     */     //   4: aload_0
/*     */     //   5: getfield 3	java/util/TimerThread:queue	Ljava/util/TaskQueue;
/*     */     //   8: dup
/*     */     //   9: astore_1
/*     */     //   10: monitorenter
/*     */     //   11: aload_0
/*     */     //   12: iconst_0
/*     */     //   13: putfield 2	java/util/TimerThread:newTasksMayBeScheduled	Z
/*     */     //   16: aload_0
/*     */     //   17: getfield 3	java/util/TimerThread:queue	Ljava/util/TaskQueue;
/*     */     //   20: invokevirtual 5	java/util/TaskQueue:clear	()V
/*     */     //   23: aload_1
/*     */     //   24: monitorexit
/*     */     //   25: goto +8 -> 33
/*     */     //   28: astore_2
/*     */     //   29: aload_1
/*     */     //   30: monitorexit
/*     */     //   31: aload_2
/*     */     //   32: athrow
/*     */     //   33: goto +40 -> 73
/*     */     //   36: astore_3
/*     */     //   37: aload_0
/*     */     //   38: getfield 3	java/util/TimerThread:queue	Ljava/util/TaskQueue;
/*     */     //   41: dup
/*     */     //   42: astore 4
/*     */     //   44: monitorenter
/*     */     //   45: aload_0
/*     */     //   46: iconst_0
/*     */     //   47: putfield 2	java/util/TimerThread:newTasksMayBeScheduled	Z
/*     */     //   50: aload_0
/*     */     //   51: getfield 3	java/util/TimerThread:queue	Ljava/util/TaskQueue;
/*     */     //   54: invokevirtual 5	java/util/TaskQueue:clear	()V
/*     */     //   57: aload 4
/*     */     //   59: monitorexit
/*     */     //   60: goto +11 -> 71
/*     */     //   63: astore 5
/*     */     //   65: aload 4
/*     */     //   67: monitorexit
/*     */     //   68: aload 5
/*     */     //   70: athrow
/*     */     //   71: aload_3
/*     */     //   72: athrow
/*     */     //   73: return
/*     */     // Line number table:
/*     */     //   Java source line #505	-> byte code offset #0
/*     */     //   Java source line #508	-> byte code offset #4
/*     */     //   Java source line #509	-> byte code offset #11
/*     */     //   Java source line #510	-> byte code offset #16
/*     */     //   Java source line #511	-> byte code offset #23
/*     */     //   Java source line #512	-> byte code offset #33
/*     */     //   Java source line #508	-> byte code offset #36
/*     */     //   Java source line #509	-> byte code offset #45
/*     */     //   Java source line #510	-> byte code offset #50
/*     */     //   Java source line #511	-> byte code offset #57
/*     */     //   Java source line #513	-> byte code offset #73
/*     */     // Local variable table:
/*     */     //   start	length	slot	name	signature
/*     */     //   0	74	0	this	TimerThread
/*     */     //   28	4	2	localObject1	Object
/*     */     //   36	36	3	localObject2	Object
/*     */     //   63	6	5	localObject3	Object
/*     */     // Exception table:
/*     */     //   from	to	target	type
/*     */     //   11	25	28	finally
/*     */     //   28	31	28	finally
/*     */     //   0	4	36	finally
/*     */     //   45	60	63	finally
/*     */     //   63	68	63	finally
/*     */   }
/*     */   
/*     */   private void mainLoop()
/*     */   {
/*     */     try
/*     */     {
/*     */       for (;;)
/*     */       {
/*     */         TimerTask localTimerTask;
/*     */         int i;
/* 523 */         synchronized (this.queue)
/*     */         {
/* 525 */           if ((this.queue.isEmpty()) && (this.newTasksMayBeScheduled)) {
/* 526 */             this.queue.wait(); continue; }
/* 527 */           if (this.queue.isEmpty()) {
/*     */             break;
/*     */           }
/*     */           
/*     */ 
/* 532 */           localTimerTask = this.queue.getMin();
/* 533 */           long l1; long l2; synchronized (localTimerTask.lock) {
/* 534 */             if (localTimerTask.state == 3) {
/* 535 */               this.queue.removeMin();
/* 536 */               continue;
/*     */             }
/* 538 */             l1 = System.currentTimeMillis();
/* 539 */             l2 = localTimerTask.nextExecutionTime;
/* 540 */             if ((i = l2 <= l1 ? 1 : 0) != 0) {
/* 541 */               if (localTimerTask.period == 0L) {
/* 542 */                 this.queue.removeMin();
/* 543 */                 localTimerTask.state = 2;
/*     */               } else {
/* 545 */                 this.queue.rescheduleMin(localTimerTask.period < 0L ? l1 - localTimerTask.period : l2 + localTimerTask.period);
/*     */               }
/*     */             }
/*     */           }
/*     */           
/*     */ 
/* 551 */           if (i == 0)
/* 552 */             this.queue.wait(l2 - l1);
/*     */         }
/* 554 */         if (i != 0) {
/* 555 */           localTimerTask.run();
/*     */         }
/*     */       }
/*     */     }
/*     */     catch (InterruptedException localInterruptedException) {}
/*     */   }
/*     */ }


/* Location:              /Users/guanxiaoda/Documents/workspace/rt.jar!/java/util/TimerThread.class
 * Java compiler version: 8 (52.0)
 * JD-Core Version:       0.7.1
 */